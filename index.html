<!doctype html>
<html lang="en">
  <head>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <script>
      // Polyfill for Node.js 'global' used by simple-peer
      if (typeof global === 'undefined') {
        window.global = window;
      }
    </script>
    <script>
      // GitHub Pages SPA fallback:
      // If the user hits a deep link, Pages serves /404.html which redirects to /?/<path>.
      // This script restores the original path so React Router can handle it.
      (function () {
        var l = window.location;
        if (l.search && l.search.startsWith('?/')) {
          var query = l.search.slice(2);
          
          // Prevent malformed URLs like ?/&/&/&... from infinite loops
          if (query.startsWith('&/&') || query.match(/(&\/){3,}/)) {
            // Corrupted URL - reset to home
            window.history.replaceState(null, '', l.pathname);
            return;
          }
          
          var parts = query.split('&');
          var path = parts.shift() || '';
          var remaining = parts.length ? ('?' + parts.join('&')) : '';
          var base = l.pathname;
          if (!base.endsWith('/')) base = base + '/';
          
          // Use replaceState to update browser history before React Router initializes
          // This ensures the router sees the original path, not the ?/ encoded version
          window.history.replaceState(null, '', base + path + remaining + l.hash);
        }
      })();
    </script>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
    <meta name="mobile-web-app-capable" content="yes" />
    <meta name="format-detection" content="telephone=no" />
    <!-- TODO: Set the document title to the name of your application -->
    <title>mansoni</title>
    <meta name="description" content="Социальная сеть mansoni">
    <meta name="author" content="mansoni" />

    <!-- TODO: Update og:title to match your application name -->
    
    
    <meta property="og:type" content="website" />
     <meta property="og:image" content="" />

    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:site" content="@mansoni" />
    <meta name="twitter:image" content="" />
    <meta property="og:title" content="mansoni">
  <meta name="twitter:title" content="mansoni">
  <meta property="og:description" content="Социальная сеть mansoni">
  <meta name="twitter:description" content="Социальная сеть mansoni">
  <link rel="icon" type="image/png" href="https://storage.googleapis.com/gpt-engineer-file-uploads/cPeXRra4uUQ0AEG8Mui49FbVGp73/uploads/1769982762295-296e92f8a59e339a7d403032aab87b66-a2004440-7949-409c-8198-d96636af0cf2.png">
  <style>
    #boot-fallback {
      min-height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      background: linear-gradient(135deg, #0a1628 0%, #0d2035 52%, #071420 100%);
      color: #ffffff;
      font-family: Inter, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Arial, sans-serif;
      padding: 24px;
      text-align: center;
    }
    #boot-fallback h1 { margin: 0 0 10px; font-size: 28px; font-weight: 700; }
    #boot-fallback p { margin: 0 0 18px; opacity: 0.85; }
    #boot-fallback a {
      display: inline-block;
      padding: 10px 16px;
      margin: 0 6px;
      border-radius: 12px;
      border: 1px solid rgba(255,255,255,.25);
      color: #fff;
      text-decoration: none;
      background: rgba(255,255,255,.08);
    }
  </style>
</head>

  <body>
    <div id="root">
      <div id="boot-fallback">
        <div>
          <h1>Добро пожаловать</h1>
          <p>Если приложение загружается дольше обычного, откройте вход вручную.</p>
          <a href="/auth">Вход</a>
          <a href="/">Главная</a>
        </div>
      </div>
    </div>
    <script type="module" src="/src/main.tsx"></script>
  </body>
</html>
