# Frontend runtime (Vite)
# Copy to .env.local (recommended) or .env and fill in values.

# ===== Supabase (для Auth, TURN/WebRTC звонков, Storage) =====
VITE_SUPABASE_URL="https://YOUR_PROJECT_REF.supabase.co"
# Prefer VITE_SUPABASE_PUBLISHABLE_KEY (anon key)
VITE_SUPABASE_PUBLISHABLE_KEY="YOUR_SUPABASE_ANON_KEY"

# ===== TURN credentials (если переносишь TURN на свой сервер) =====
# URL до нового endpoint (например: https://your-api.example.com/turn-credentials)
VITE_TURN_CREDENTIALS_URL=""

# ===== Server-only secrets (never expose to client) =====
TURN_CREDENTIALS_API_KEY=""
DELEGATION_ISSUER_SECRET=""

# Comma-separated allowlist for browser origins in Edge Functions
# Example: https://mansoni.ru,https://www.mansoni.ru
CORS_ALLOWED_ORIGINS=""

# Optional
VITE_SENTRY_DSN=""
VITE_IMGLY_LICENSE_KEY=""

# ===== Analytics firehose (Redpanda ingest) =====
# Frontend endpoint that accepts batched events
VITE_ANALYTICS_INGEST_URL="https://analytics.mansoni.ru/analytics/events"

# ===== Analytics ingest service (server-only) =====
ANALYTICS_KAFKA_BROKERS="localhost:9092"
ANALYTICS_KAFKA_TOPIC="analytics.v1"
ANALYTICS_KAFKA_CLIENT_ID="mansoni-analytics-ingest"
ANALYTICS_INGEST_PORT="4010"
ANALYTICS_CORS_ORIGINS="https://mansoni.ru,https://www.mansoni.ru"
# Optional: require api key for ingest
ANALYTICS_INGEST_API_KEY=""

# ===== ClickHouse consumer =====
ANALYTICS_CH_URL="http://localhost:8123"
ANALYTICS_CH_DATABASE="analytics"
ANALYTICS_CH_USER="default"
ANALYTICS_CH_PASSWORD=""

# Optional (dev / seeding)
VITE_SEED_TEST_CHATS_TOKEN="CHANGE_ME"

# Optional (CI/CD chat schema probe hardening)
# Used by scripts/chat/schema-probe-ci.mjs when REQUIRE_CHAT_SCHEMA_PROBE=1.
SUPABASE_SERVICE_ROLE_KEY=""
VITE_EXPECTED_SUPABASE_PROJECT_REF="YOUR_PROJECT_REF"
CHAT_SCHEMA_EXPECTED_VERSION="2"
